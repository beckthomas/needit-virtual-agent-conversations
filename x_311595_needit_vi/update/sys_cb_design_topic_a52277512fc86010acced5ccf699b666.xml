<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic">
    <sys_cb_design_topic action="INSERT_OR_UPDATE">
        <compiled_topic display_value="_PRVW__ed2277513cc860105b7d4267f3b60660">252277512fc86010acced5ccf699b662</compiled_topic>
        <design_definition>{"type":"FlowTopic","triggers":[{"type":"Trigger","name":"8f077ed1dd8d4ac99eee89e8ca6f395c","triggerType":"request","applicability":{"type":"Applicability","mode":"script","value":"true"},"id":"8f077ed1dd8d4ac99eee89e8ca6f395c"}],"goals":[{"name":"primary","trigger_id":"8f077ed1dd8d4ac99eee89e8ca6f395c","nodes":[{"type":"StartGoal","goal_id":"22aedc8476e44236b91d409d639361e5","greeting_msg":{"type":"String","mode":"string","value":" I can help you find and update NeedIt records for a type of request."},"id":"5a83ec06f6ac41d88d514bab776c978c","name":"Start"},{"type":"TerminateGoal","goal_id":"22aedc8476e44236b91d409d639361e5","confirmation_msg":{"type":"String","mode":"string","value":"Ask again when you need to update other NeedIt records."},"id":"41d7a66289654f00a08dd55a9042bd38","name":"End"},{"type":"ChoiceInputPrompt","expression_mode":"simple","id":"a9875da2ba104bdeac1c9559f5ed49a2","name":"NeedIt Type","goal_id":"22aedc8476e44236b91d409d639361e5","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"c98dd6d56e9a4cebaec2201229f18a6a","message":{"type":"String","mode":"string","value":"Which type of NeedIt record would you like to view?"},"optional":false,"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false}},{"type":"OutputPrompt","value":{"type":"String","mode":"string","value":"You selected: {{vaInputs.needit_type}}"},"id":"3f689499da964cf3874def0f505f4362","name":"Confirm NeedIt Type","goal_id":"22aedc8476e44236b91d409d639361e5","applicability":{"type":"Applicability","mode":"script","value":"(function execute() {\n    /* Return true or false to indicate if the topic or topic node can run \n       and be discoverable (or not).  For example:\n\n       var applicability = vaInputs.first_name == 'Bill' ? true : false;\n    */\n    return 'You selected: ' + vaInputs.needit_type.getDisplayValue();\n})()\n"}},{"type":"ReferenceChoiceInputPrompt","mode":"external","id":"d28383d3e17d4239b2b75430e3e1458c","name":"NeedIt List","goal_id":"22aedc8476e44236b91d409d639361e5","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"8b9e15aac2ab48d5bfbd06a7c434c24c","message":{"type":"String","mode":"string","value":"Select a NeedIt record to view"},"optional":false,"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false},"expression_mode":"script","script":"(function execute(table) {\n    // Initialize an array for the list of NeedIt records to show\n    var options = [];\n\n    // Query the table selected in the Table field for active records with the \n\t// u_request_type selected in the NeedIt Type node where the user is the \n\t// u_requested_for. Order the results by the When needed value.\n    var grNi = new GlideRecord(table);\n    grNi.addQuery('active', 'true');\n    grNi.addQuery('u_requested_for', vaInputs.user);\n    grNi.orderBy('u_when_needed');\n    grNi.query();\n\n    // Push a value and label pair to the array for each record the query returns.\n\t// The value is the unique value. The label is the number, u_when_needed, and\n    // short_description values for the NeedIt record.\n    while(grNi.next()) {\n        options.push({ 'value': grNi.getUniqueValue(), 'label': grNi.getValue('number') + \"(\" + grNi.getDisplayValue('u_when_needed')+ \"):\" + grNi.getValue('short_description')})\n    }\n\n    // return array\n    return options;\n})(table)\n","no_options_found_message":{"type":"String","mode":"string","value":"You have no open NeedIt records"},"condition":{"type":"Condition","mode":"glide_scripted_query","value":"(function execute(table) {\n    // Initialize an array for the list of NeedIt records to show\n    var options = [];\n\n    // Query the table selected in the Table field for active records with the \n\t// u_request_type selected in the NeedIt Type node where the user is the \n\t// u_requested_for. Order the results by the When needed value.\n    var grNi = new GlideRecord(table);\n    grNi.addQuery('active', 'true');\n    grNi.addQuery('u_requested_for', vaInputs.user);\n    grNi.orderBy('u_when_needed');\n    grNi.query();\n\n    // Push a value and label pair to the array for each record the query returns.\n\t// The value is the unique value. The label is the number, u_when_needed, and\n    // short_description values for the NeedIt record.\n    while(grNi.next()) {\n        options.push({ 'value': grNi.getUniqueValue(), 'label': grNi.getValue('number') + \"(\" + grNi.getDisplayValue('u_when_needed')+ \"):\" + grNi.getValue('short_description')})\n    }\n\n    // return array\n    return options;\n})(table)\n"}},{"type":"RecordOutputPrompt","mode":"variable","table":"x_58872_needit_needit","variable_id":"8b9e15aac2ab48d5bfbd06a7c434c24c","fields":["priority","short_description","u_when_needed"],"id":"f5364d714e33499381f40c51cb27f49d","name":"NeedIt Card","goal_id":"22aedc8476e44236b91d409d639361e5","applicability":{"type":"Applicability","mode":"script","value":"true"},"condition":{"type":"Condition","mode":"","value":""}},{"type":"InputPrompt","variable_id":"21ca258e5d414583adc9e891c808dfa5","message":{"type":"String","mode":"string","value":" Would you like to view another NeedIt Record?"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false},"optional":false,"id":"7c9823d3059546c0ac9ffe937e651ef3","name":"Search again","goal_id":"22aedc8476e44236b91d409d639361e5","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","name":"Find more NeedIt records?","branches":[{"type":"Branch","label":"No","expression":{"type":"Applicability","mode":"query","value":"search_again="},"id":"ae40f3182f364c62af1a7c1aa362df8f","name":"No"},{"type":"Branch","label":"Yes","expression":{"type":"Applicability","mode":"query","value":"search_again=true"},"id":"776679fc5aa84a37bfeadf3fdd7753d5","name":"Yes"}],"id":"c0b68901c1be4f33a332f65af367ce7a","goal_id":"22aedc8476e44236b91d409d639361e5"},{"type":"InputPrompt","variable_id":"901ac4cad0394174b1c74d658ace48a8","message":{"type":"String","mode":"string","value":"When do you need the NeedIt completed?"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false},"optional":false,"id":"e3389237a62848eb9a9474ef05fe9203","name":"New When Needed Date","goal_id":"22aedc8476e44236b91d409d639361e5","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"CRUDAction","mode":"update","query":"u_when_needed={{vaInputs.new_when_needed_date}}","variable_id":"8b9e15aac2ab48d5bfbd06a7c434c24c","id":"e2f2bb28ff4448c7a6f704d65fc3186a","name":"Change When Needed Date","goal_id":"22aedc8476e44236b91d409d639361e5","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"RecordOutputPrompt","mode":"variable","table":"x_58872_needit_needit","variable_id":"8b9e15aac2ab48d5bfbd06a7c434c24c","fields":["u_when_needed"],"id":"b4de807dadd44940ae6664b492f37fcb","name":"Updated NeedIt","goal_id":"22aedc8476e44236b91d409d639361e5","applicability":{"type":"Applicability","mode":"script","value":"true"},"condition":{"type":"Condition","mode":"","value":""}},{"type":"ChoiceInputPrompt","expression_mode":"simple","id":"e474c29c2e4841488c4895fc408b0bf6","name":"Update Options","goal_id":"22aedc8476e44236b91d409d639361e5","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"baf5533c2b894a5895c5386c62ff0af4","message":{"type":"String","mode":"string","value":"Do you want to update the Record?"},"optional":false,"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false}},{"type":"Decision","name":"Update Field","branches":[{"type":"Branch","label":"Update Date","expression":{"type":"Applicability","mode":"query","value":"update_options=update_when_needed_date"},"id":"b36dd9cdff44438b8a0ba6f2c296c397","name":"Update Date"},{"type":"Branch","label":"Update Short Description","expression":{"type":"Applicability","mode":"query","value":"update_options=update_short_description"},"id":"fcb71fd840dd40099b780c4291ab3ead","name":"Update Short Description"},{"type":"Branch","label":"Update Nothing","expression":{"type":"Applicability","mode":"query","value":"update_options=update_nothing"},"id":"8c8e601ba6a84d4e84183b40d1a0a483","name":"Update Nothing"}],"id":"a36744d753c04ee48e0b5a87cdff5588","goal_id":"22aedc8476e44236b91d409d639361e5"},{"type":"InputPrompt","variable_id":"b89a6058f5534469bc0f5e272a18cd74","message":{"type":"String","mode":"string","value":"Please type the new Short Description"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false},"optional":false,"id":"d6d7db3ef7654f31a89f54d6c29a68b8","name":"New Short Description","goal_id":"22aedc8476e44236b91d409d639361e5","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"CRUDAction","mode":"update","query":"short_description={{vaInputs.new_short_description}}","variable_id":"8b9e15aac2ab48d5bfbd06a7c434c24c","id":"a3066314d39845ffbb4d82afd854fec0","name":"Change Short Description","goal_id":"22aedc8476e44236b91d409d639361e5","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"RecordOutputPrompt","mode":"variable","table":"x_58872_needit_needit","variable_id":"8b9e15aac2ab48d5bfbd06a7c434c24c","fields":["short_description"],"id":"d387c740289745a6921e1d6d5d29d0ee","name":"Updated Short Description","goal_id":"22aedc8476e44236b91d409d639361e5","applicability":{"type":"Applicability","mode":"script","value":"true"},"condition":{"type":"Condition","mode":"","value":""}},{"type":"ScriptedAction","script":"(function execute() {\n   // add 1 to the search_count variable\n   vaVars.search_count += 1;    \n})()\n","id":"b47db9504dbe490aa0750dc8727e18f3","name":"Update search_count","goal_id":"22aedc8476e44236b91d409d639361e5","applicability":{"type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"5a83ec06f6ac41d88d514bab776c978c","target_node_id":"a9875da2ba104bdeac1c9559f5ed49a2","id":"48cbff6d1bf74cc0a9a57de123da123e"},{"type":"Edge","source_node_id":"a9875da2ba104bdeac1c9559f5ed49a2","target_node_id":"3f689499da964cf3874def0f505f4362","id":"c0aabce984a447458bf3044f2cd733d0"},{"type":"Edge","source_node_id":"3f689499da964cf3874def0f505f4362","target_node_id":"d28383d3e17d4239b2b75430e3e1458c","id":"ba9710685efc42eaa0a7a0f733057348"},{"type":"Edge","source_node_id":"d28383d3e17d4239b2b75430e3e1458c","target_node_id":"f5364d714e33499381f40c51cb27f49d","id":"ef21f77d4c394277a32017b658be62c6"},{"type":"Edge","source_node_id":"7c9823d3059546c0ac9ffe937e651ef3","target_node_id":"c0b68901c1be4f33a332f65af367ce7a","id":"c26de780db4d41fca426adcef9994c9b"},{"type":"Edge","source_node_id":"c0b68901c1be4f33a332f65af367ce7a","target_node_id":"41d7a66289654f00a08dd55a9042bd38","branch_id":"ae40f3182f364c62af1a7c1aa362df8f","id":"10ec1afdccc84dd797f39dcdf40fb477","name":"ae40f3182f364c62af1a7c1aa362df8f"},{"type":"Edge","source_node_id":"e3389237a62848eb9a9474ef05fe9203","target_node_id":"e2f2bb28ff4448c7a6f704d65fc3186a","id":"0c55f987e0884534bef8dc1c9cd164fa"},{"type":"Edge","source_node_id":"e2f2bb28ff4448c7a6f704d65fc3186a","target_node_id":"b4de807dadd44940ae6664b492f37fcb","id":"54c8230dfbda4a5d9a2e1cab738b584d"},{"type":"Edge","source_node_id":"b4de807dadd44940ae6664b492f37fcb","target_node_id":"7c9823d3059546c0ac9ffe937e651ef3","id":"ab2033406b264aa2b0f1ba90db3359ab"},{"type":"Edge","source_node_id":"f5364d714e33499381f40c51cb27f49d","target_node_id":"e474c29c2e4841488c4895fc408b0bf6","id":"26e030a6349b40ad8d697daa2c4d78f3"},{"type":"Edge","source_node_id":"e474c29c2e4841488c4895fc408b0bf6","target_node_id":"a36744d753c04ee48e0b5a87cdff5588","id":"5ff7bdc06dcb4ed3b979fb7dbedfd1f9"},{"type":"Edge","source_node_id":"a36744d753c04ee48e0b5a87cdff5588","target_node_id":"e3389237a62848eb9a9474ef05fe9203","branch_id":"b36dd9cdff44438b8a0ba6f2c296c397","id":"4daebc246c55492d8a7969f9bb1c5ef5","name":"b36dd9cdff44438b8a0ba6f2c296c397"},{"type":"Edge","source_node_id":"a36744d753c04ee48e0b5a87cdff5588","target_node_id":"d6d7db3ef7654f31a89f54d6c29a68b8","branch_id":"fcb71fd840dd40099b780c4291ab3ead","id":"4b0c0a57a2474228b7a73c1744c42c18","name":"fcb71fd840dd40099b780c4291ab3ead"},{"type":"Edge","source_node_id":"d6d7db3ef7654f31a89f54d6c29a68b8","target_node_id":"a3066314d39845ffbb4d82afd854fec0","id":"769a3a9426f94f23a702b625e6a87956"},{"type":"Edge","source_node_id":"a3066314d39845ffbb4d82afd854fec0","target_node_id":"d387c740289745a6921e1d6d5d29d0ee","id":"67e1c5a27bfb4cc580d644647587ac3c"},{"type":"Edge","source_node_id":"d387c740289745a6921e1d6d5d29d0ee","target_node_id":"7c9823d3059546c0ac9ffe937e651ef3","id":"a1042f5493e4435194a73a7c05f0e425"},{"type":"Edge","source_node_id":"a36744d753c04ee48e0b5a87cdff5588","target_node_id":"7c9823d3059546c0ac9ffe937e651ef3","branch_id":"8c8e601ba6a84d4e84183b40d1a0a483","id":"d574deb5e0624d6392808a4161541e08","name":"8c8e601ba6a84d4e84183b40d1a0a483"},{"type":"Edge","source_node_id":"c0b68901c1be4f33a332f65af367ce7a","target_node_id":"b47db9504dbe490aa0750dc8727e18f3","branch_id":"776679fc5aa84a37bfeadf3fdd7753d5","id":"170d6ef5a5fb4db3aa2a88ce43872f20","name":"776679fc5aa84a37bfeadf3fdd7753d5"},{"type":"Edge","source_node_id":"b47db9504dbe490aa0750dc8727e18f3","target_node_id":"a9875da2ba104bdeac1c9559f5ed49a2","id":"9b35216c55f44bf0b0a7deb118dfebde"}],"id":"22aedc8476e44236b91d409d639361e5"}],"script_variables":[{"type":"String","name":"search_count","value":{"type":"String","mode":"string","value":"0"},"id":"a52549c17ca94eae91285d584206bc7c"}],"glide_variables":[{"type":"Reference","table":"sys_user","id":"current-user","name":"user"},{"type":"Choice","choices":[{"name":"Legal","element":"legal"},{"name":"Facilities","element":"facilities"},{"name":"Human Resources","element":"human resources"}],"id":"c98dd6d56e9a4cebaec2201229f18a6a","name":"needit_type"},{"type":"Reference","table":"x_58872_needit_needit","id":"8b9e15aac2ab48d5bfbd06a7c434c24c","name":"needit_list"},{"type":"True/False","id":"21ca258e5d414583adc9e891c808dfa5","name":"search_again"},{"type":"Date/Time","mode":"date","id":"901ac4cad0394174b1c74d658ace48a8","name":"new_when_needed_date"},{"type":"Reference","table":"","id":"51a5ab9c48924904b0320051fed15dbd","name":"change_when_needed_date"},{"type":"Choice","choices":[{"name":"Update When Needed Date","element":"update_when_needed_date"},{"name":"Update Short Description","element":"update_short_description"},{"name":"Update Nothing","element":"update_nothing"}],"id":"baf5533c2b894a5895c5386c62ff0af4","name":"update_options"},{"type":"String","name":"new_short_description","id":"b89a6058f5534469bc0f5e272a18cd74"},{"type":"Reference","table":"","id":"f70baf840e6c4d85be75ed909e2b1205","name":"change_short_description"}],"applicability":{"type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"beb4e4192f7b5010acced5ccf699b6fb","domain":"global","id":"cdb7e8592f7b5010acced5ccf699b6e7","name":"_PRVW__ed2277513cc860105b7d4267f3b60660","key_phrases":["Update NeedIt Records","needit","update","needit request"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"design_category":"c576a01d2f7b5010acced5ccf699b62f","library":false}</design_definition>
        <design_topic_id>cdb7e8592f7b5010acced5ccf699b6e7</design_topic_id>
        <name>_PRVW__ed2277513cc860105b7d4267f3b60660</name>
        <sys_class_name>sys_cb_design_topic</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2020-10-23 18:11:08</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>a52277512fc86010acced5ccf699b666</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>FlowTopic</sys_name>
        <sys_package display_value="NeedIt Virtual Agent Conversations" source="x_311595_needit_vi">beb4e4192f7b5010acced5ccf699b6fb</sys_package>
        <sys_policy/>
        <sys_scope display_value="NeedIt Virtual Agent Conversations">beb4e4192f7b5010acced5ccf699b6fb</sys_scope>
        <sys_update_name>sys_cb_design_topic_a52277512fc86010acced5ccf699b666</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2020-10-23 18:11:08</sys_updated_on>
        <type>FlowTopic</type>
    </sys_cb_design_topic>
</record_update>
